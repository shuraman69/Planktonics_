(this.webpackJsonpplanctonics=this.webpackJsonpplanctonics||[]).push([[0],{100:function(e,t,a){e.exports={container:"Login_container__1M5wg"}},101:function(e,t,a){e.exports={customInput:"LoginForm_customInput__1F3TZ"}},111:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(14),r=a.n(c),i=(a(111),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,128)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))}),o=a(47),l=a(15),u=a(56),d=a(13),j=a.p+"static/media/3.3e818eb2.jpg",b=a.p+"static/media/2jpg.e7dee65c.jpg",g=[{id:"0",login:"aaa",password:"111",name:"Alex",nickname:"gamer228",avatar:a.p+"static/media/1jpg.57048de4.jpg"},{id:"1",login:"bbb",password:"222",name:"Dima",nickname:"diman+100500",avatar:a.p+"static/media/4.00df587e.jpg"},{id:"2",login:"ccc",password:"333",name:"Olga",nickname:"i_like_cats",avatar:b},{id:"3",login:"ddd",password:"444",name:"Elena",nickname:"boomer69",avatar:j}],O=a(63),m=a.p+"static/media/st1.3d743afd.png",f=a.p+"static/media/st2.50bb353e.png",h=a.p+"static/media/st3.122d67dd.png",x=a.p+"static/media/st4.f986eda0.png",v=a.p+"static/media/st5.d5343850.png",p="SET_FLOOD_MESSAGE",_="SET_FLOOD_MESSAGE_FROM_LS",k="SEND_FLOOD_STICKER",S="EDIT_FLOOD_MESSAGE",w="DELETE_FLOOD_MESSAGE",C={floodChat:[],floodStickers:[{sticker:m,id:0},{sticker:f,id:1},{sticker:h,id:2},{sticker:x,id:3},{sticker:v,id:4}]},M=function(e){return function(t,a){t(function(e){return{type:p,floodMessage:e}}(e));var n=JSON.stringify(a().flood.floodChat);A("floodMessages",n)}},I=function(e){return function(t,a){e.sticker=a().flood.floodStickers[e.stickerId],t(function(e){return{type:k,message:e}}(e));var n=JSON.stringify(a().flood.floodChat);A("floodMessages",n)}},y=function(e){return function(t,a){t(function(e){return{type:w,messageId:e}}(e));var n=JSON.stringify(a().flood.floodChat);A("floodMessages",n)}},N=function(e,t){return function(a,n){a(function(e,t){return{type:S,messageId:e,newMessage:t}}(e,t));var s=JSON.stringify(n().flood.floodChat);A("floodMessages",s)}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{floodChat:[].concat(Object(O.a)(e.floodChat),[t.floodMessage])});case k:return Object(d.a)(Object(d.a)({},e),{},{floodChat:[].concat(Object(O.a)(e.floodChat),[t.message])});case _:return Object(d.a)(Object(d.a)({},e),{},{floodChat:t.messages});case w:return Object(d.a)(Object(d.a)({},e),{},{floodChat:e.floodChat.filter((function(e){return e.id!==t.messageId}))});case S:return Object(d.a)(Object(d.a)({},e),{},{floodChat:e.floodChat.map((function(e){if(e.id==t.messageId)return Object(d.a)(Object(d.a)({},e),{},{message:t.newMessage})}))});default:return e}},A=function(e,t){localStorage.getItem(e)?(localStorage.removeItem(e),localStorage.setItem(e,t)):localStorage.setItem(e,t)},D=function(e,t,a){var n=JSON.parse(localStorage.getItem(e)),s=JSON.parse(localStorage.getItem(t));n&&a(J(n)),s&&a({type:_,messages:s})},L="SET_WORK_MESSAGE",V="SET_WORK_MESSAGE_FROM_LS",T="DELETE_WORK_MESSAGE",F={workChat:[]},J=function(e){return{type:V,messages:e}},W=function(e){return function(t,a){t(function(e){return{type:L,workMessage:e}}(e));var n=JSON.stringify(a().work.workChat);A("workMessages",n)}},G=function(e){return function(t,a){t(function(e){return{type:T,messageId:e}}(e));var n=JSON.stringify(a().work.workChat);A("workMessages",n)}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(d.a)(Object(d.a)({},e),{},{workChat:[].concat(Object(O.a)(e.workChat),[t.workMessage])});case V:return Object(d.a)(Object(d.a)({},e),{},{workChat:t.messages});case T:return Object(d.a)(Object(d.a)({},e),{},{workChat:e.workChat.filter((function(e){return e.id!==t.messageId}))});default:return e}},H="LOGIN",R="LOG_OUT",B=g,P={user:{login:null,password:null,name:null,nickname:null,avatar:null}},Z=function(e,t,a,n,s){return{type:H,login:e,password:t,name:a,nickname:n,avatar:s}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(d.a)(Object(d.a)({},e),{},{user:{login:t.login,password:t.password,name:t.name,nickname:t.nickname,avatar:t.avatar}});case R:return Object(d.a)(Object(d.a)({},e),{},{user:{login:null,password:null,token:null}});default:return e}},Y=a(95),q=Object(u.c)({login:U,work:K,flood:E}),z=Object(u.d)(q,Object(u.a)(Y.a));window.store=z;var Q=z,X=(a(93),a(46),a(122)),$=a(123),ee=a(125),te=a(126),ae=a(127),ne=a(2),se=X.a.Sider;var ce=function(){return Object(ne.jsx)(se,{trigger:null,collapsible:!0,children:Object(ne.jsxs)($.a,{theme:"dark",mode:"inline",children:[Object(ne.jsx)($.a.Item,{icon:Object(ne.jsx)(ee.a,{}),children:Object(ne.jsx)(o.b,{to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})},"1"),Object(ne.jsx)($.a.Item,{icon:Object(ne.jsx)(te.a,{}),children:Object(ne.jsx)(o.b,{to:"/work-chat",children:"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442"})},"2"),Object(ne.jsx)($.a.Item,{icon:Object(ne.jsx)(ae.a,{}),children:Object(ne.jsx)(o.b,{to:"/flood-chat",children:"\u041d\u0435 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442"})},"3")]})})},re=a(29),ie=a(12),oe=a(100),le=a.n(oe),ue=a(101),de=a.n(ue),je=function(e){var t=e.onSubmit,a=e.loginValue,n=e.passwordValue,s=e.onLoginChange,c=e.onPasswordChange;return Object(ne.jsxs)("form",{style:de.a,onSubmit:function(e){return t(e)},children:[Object(ne.jsx)("label",{htmlFor:"login",children:Object(ne.jsx)("input",{value:a,onChange:function(e){return s(e)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043b\u043e\u0433\u0438\u043d"})}),Object(ne.jsx)("label",{htmlFor:"password",children:Object(ne.jsx)("input",{value:n,onChange:function(e){return c(e)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(ne.jsx)("button",{type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})},be=function(){var e=Object(n.useState)(""),t=Object(re.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),r=Object(re.a)(c,2),i=r[0],o=r[1],u=Object(l.b)(),d=Object(ie.e)();return Object(ne.jsx)(je,{passwordValue:i,loginValue:a,onSubmit:function(e){e.preventDefault(),u(function(e,t){return function(a,n){B.forEach((function(s){if(s.login===e&&s.password===t){a(Z(e,t,s.name,s.nickname,s.avatar));var c=n().login.user;localStorage.setItem("user",JSON.stringify(c)),D("workMessages","floodMessages",a),alert("\u0412\u044b \u0432\u043e\u0448\u043b\u0438!")}}))}}(a,i)),d.push("/profile")},onPasswordChange:function(e){o(e.target.value)},onLoginChange:function(e){s(e.target.value)}})},ge=function(){return Object(ne.jsx)("div",{className:le.a.container,children:Object(ne.jsx)(be,{})})},Oe=a(83),me=a.n(Oe),fe=X.a.Header;var he=function(e){var t=e.logout,a=e.login;return Object(ne.jsx)(fe,{className:"site-layout-background",children:Object(ne.jsxs)("div",{className:me.a.container,children:[Object(ne.jsx)("div",{className:me.a.login,children:a?"\u0412\u0430\u0448 \u043b\u043e\u0433\u0438\u043d: ".concat(a):"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"}),Object(ne.jsx)("span",{onClick:function(){return t()},className:me.a.login_btn,children:"\u0412\u044b\u0439\u0442\u0438"})]})})};var xe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.user.login}));return Object(ne.jsx)(he,{logout:function(){e({type:R}),localStorage.removeItem("user"),alert("\u0412\u044b \u0432\u044b\u0448\u043b\u0438")},login:t})},ve={maxWidth:"300px",maxHeight:"400px"},pe=function(e){var t=e.avatar;return Object(ne.jsx)("div",{children:Object(ne.jsx)("img",{style:ve,src:t,alt:"avatar"})})},_e=function(e){var t=e.userName,a=e.login,n=e.nickname;return Object(ne.jsxs)("div",{children:[Object(ne.jsx)("h2",{children:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f: ".concat(t)}),Object(ne.jsx)("h2",{children:"\u0412\u0430\u0448\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c: ".concat(n)}),Object(ne.jsx)("h2",{children:"\u0412\u0430\u0448\u0435 \u043b\u043e\u0433\u0438\u043d: ".concat(a)})]})},ke={display:"flex",justifyContent:"space-around",maxWidth:"800px"},Se=function(e){var t=e.avatar,a=e.userName,n=e.login,s=e.nickname;return Object(ne.jsxs)("div",{style:ke,children:[Object(ne.jsx)(pe,{avatar:t}),Object(ne.jsx)(_e,{userName:a,nickname:s,login:n})]})},we=function(){var e=Object(ie.e)(),t=Object(l.c)((function(e){return e.login.user.avatar})),a=Object(l.c)((function(e){return e.login.user.name})),n=Object(l.c)((function(e){return e.login.user.nickname})),s=Object(l.c)((function(e){return e.login.user.login}));return s||e.push("/login"),Object(ne.jsx)(Se,{avatar:t,nickname:n,userName:a,login:s})},Ce=a(24),Me=a.n(Ce),Ie=a(36),ye=a.n(Ie),Ne=function(e){var t=e.sticker;return Object(ne.jsx)("div",{children:Object(ne.jsx)("img",{className:"".concat(Me.a.sticker," ").concat(Me.a.sticker_m),src:t,alt:"sticker"})})},Ee=function(e){var t=e.m,a=e.dispatch,n=e.actionId,s=e.onEditMessage;return Object(ne.jsxs)("div",{className:ye.a.container,children:[Object(ne.jsxs)("div",{className:ye.a.main,children:[Object(ne.jsx)("div",{className:ye.a.avatar,children:Object(ne.jsx)("img",{className:ye.a.avatar,src:t.avatar})}),Object(ne.jsxs)("div",{className:ye.a.main_message,children:[Object(ne.jsx)("div",{className:ye.a.name,children:t.name}),t.sticker?Object(ne.jsx)(Ne,{sticker:t.sticker.sticker}):Object(ne.jsx)("div",{className:ye.a.message,children:t.message})]})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)("span",{onClick:function(){return s(t.id)},children:"\u0420\u0415\u0414"}),Object(ne.jsx)("span",{onClick:function(){return function(e,t,a){a(t?G(e):y(e))}(t.id,n,a)},children:"\u0423\u0414\u0410\u041b"}),Object(ne.jsx)("div",{className:ye.a.date,children:t.date})]})]})},Ae=function(e){var t=e.sendMessage,a=e.textAreaValue,n=e.onTextAreaValueChange,s=e.messagesArray,c=e.dispatch,r=e.actionId,i=e.setVisible;return Object(ne.jsxs)("div",{className:Me.a.container,children:[Object(ne.jsx)("h2",{children:"\u042d\u0442\u043e \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442. \u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441"}),Object(ne.jsx)("div",{className:Me.a.chat_container,children:Object(ne.jsx)("div",{className:Me.a.chat,children:s?s.map((function(e){return Object(ne.jsx)(Ee,{setVisible:i,actionId:r,dispatch:c,m:e},e.id)})):"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043d\u0435\u0442"})}),Object(ne.jsxs)("div",{className:Me.a.message,children:[Object(ne.jsx)("textarea",{onChange:function(e){return n(e)},name:"message"}),Object(ne.jsx)("button",{value:a,onClick:function(){return t()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})},De=function(e){var t=e.getChatData,a=e.deleteId,s=e.actionId,c=e.setActionId,r=Object(n.useState)(),i=Object(re.a)(r,2),o=i[0],l=i[1],u=t(!0);Object(n.useEffect)((function(){c(!0)}),[]),u.login||u.history.push("/login");return Object(ne.jsx)(Ae,{textAreaValue:o,onTextAreaValueChange:function(e){l(e.target.value)},sendMessage:function(){var e={message:o,name:u.name,avatar:u.avatar,date:(new Date).toLocaleTimeString(),id:Date.now()};u.dispatch(W(e))},dispatch:u.dispatch,messagesArray:u.messagesArray,deleteId:a,actionId:s,setVisible:u.setVisible})},Le=function(e){var t=e.stickers,a=e.sendSticker;return Object(ne.jsx)("div",{className:Me.a.stickers,children:t.map((function(e){return Object(ne.jsx)("img",{onClick:function(){return a(e.id)},id:e.id,className:Me.a.sticker,alt:"sticker",src:e.sticker})}))})},Ve=function(e){var t=e.sendMessage,a=e.textAreaValue,n=e.onTextAreaValueChange,s=e.messagesArray,c=e.stickers,r=e.sendSticker,i=e.actionId,o=e.dispatch,l=e.onEditMessage;return Object(ne.jsxs)("div",{className:Me.a.container,children:[Object(ne.jsx)("h2",{children:"\u042d\u0442\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0447\u0430\u0442. \u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0435\u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u0442\u0435\u043c\u044b"}),Object(ne.jsxs)("div",{className:Me.a.chat_container,children:[Object(ne.jsx)("div",{className:Me.a.chat_f,children:!!s&&s.map((function(e){return Object(ne.jsx)(Ee,{onEditMessage:l,dispatch:o,actionId:i,m:e})}))}),Object(ne.jsx)(Le,{sendSticker:r,stickers:c})]}),Object(ne.jsxs)("div",{className:Me.a.message,children:[Object(ne.jsx)("textarea",{onChange:function(e){return n(e)},name:"message"}),Object(ne.jsx)("button",{value:a,onClick:function(){return t()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})},Te=a(124),Fe=function(e){var t=e.newMessage,a=e.setNewMessage,n=e.onSubmit;return Object(ne.jsxs)("form",{onSubmit:function(e){return n(e)},children:[Object(ne.jsx)("label",{htmlFor:"message",children:Object(ne.jsx)("input",{onChange:function(e){return a(e.target.value)},value:t,type:"text",name:"message"})}),Object(ne.jsx)("button",{type:"submit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})},Je=function(e){var t=e.visible,a=e.newMessage,n=e.setNewMessage,s=e.onSubmit;return Object(ne.jsx)(Te.a,{visible:t,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",footer:null,children:Object(ne.jsx)(Fe,{onSubmit:s,newMessage:a,setNewMessage:n})})},We=function(e){var t=e.getChatData,a=e.setActionId,s=e.actionId,c=t(!1);c.login||c.history.push("/login"),Object(n.useEffect)((function(){a(!1)}),[]);var r=Object(n.useState)(),i=Object(re.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(""),d=Object(re.a)(u,2),j=d[0],b=d[1],g=Object(n.useState)(null),O=Object(re.a)(g,2),m=O[0],f=O[1];return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Ve,{textAreaValue:o,onTextAreaValueChange:function(e){l(e.target.value)},sendMessage:function(){var e={message:o,name:c.name,avatar:c.avatar,date:(new Date).toLocaleTimeString(),id:Date.now()};c.dispatch(M(e))},stickers:c.stickers,messagesArray:c.messagesArray,dispatch:c.dispatch,sendSticker:function(e){var t={stickerId:e,name:c.name,avatar:c.avatar,date:(new Date).toLocaleTimeString(),id:Date.now()};c.dispatch(I(t))},actionId:s,onEditMessage:function(e){c.setVisible(!0),f(e)}}),c.visible&&Object(ne.jsx)(Je,{onSubmit:function(e){e.preventDefault(),c.setVisible(!1),c.dispatch(N(m,j))},newMessage:j,setNewMessage:b,setVisible:c.setVisible,visible:c.visible})]})},Ge=X.a.Content,Ke={margin:"24px 16px",padding:24,minHeight:280};var He=function(e){var t=e.getChatData,a=e.actionId,n=e.setActionId;return Object(ne.jsxs)(X.a,{className:"site-layout",children:[Object(ne.jsx)(xe,{}),Object(ne.jsxs)(Ge,{className:"site-layout-background",style:Ke,children:[Object(ne.jsx)(ie.a,{path:"/login",render:function(){return Object(ne.jsx)(ge,{})}}),Object(ne.jsx)(ie.a,{path:"/profile",render:function(){return Object(ne.jsx)(we,{})}}),Object(ne.jsx)(ie.a,{path:"/work-chat",render:function(){return Object(ne.jsx)(De,{actionId:a,setActionId:n,getChatData:t})}}),Object(ne.jsx)(ie.a,{path:"/flood-chat",render:function(){return Object(ne.jsx)(We,{actionId:a,setActionId:n,getChatData:t})}})]})]})};var Re=function(){var e=Object(ie.e)(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.login.user.login})),s=Object(l.c)((function(e){return e.login.user.name})),c=Object(l.c)((function(e){return e.login.user.nickname})),r=Object(l.c)((function(e){return e.login.user.avatar})),i=Object(l.c)((function(e){return e.work.workChat})),o=Object(l.c)((function(e){return e.flood.floodChat})),u=Object(l.c)((function(e){return e.flood.floodStickers})),d=Object(n.useState)(null),j=Object(re.a)(d,2),b=j[0],g=j[1],O=Object(n.useState)(!1),m=Object(re.a)(O,2),f=m[0],h=m[1];return Object(ne.jsx)(He,{actionId:b,setActionId:g,getChatData:function(n){return{history:e,dispatch:t,login:a,name:n?s:c,stickers:u,avatar:r,messagesArray:n?i:o,visible:f,setVisible:h}}})};var Be=function(){return Object(ne.jsxs)(X.a,{style:{minHeight:"100vh"},children:[Object(ne.jsx)(ce,{}),Object(ne.jsx)(Re,{})]})};var Pe=function(){var e=Object(l.b)();return Object(n.useEffect)((function(){if(localStorage.getItem("user")){var t=JSON.parse(localStorage.getItem("user")),a=t.login,n=t.password,s=t.name,c=t.nickname,r=t.avatar;e(Z(a,n,s,c,r)),D("workMessages","floodMessages",e)}}),[]),Object(ne.jsx)(Be,{})};r.a.render(Object(ne.jsx)(s.a.StrictMode,{children:Object(ne.jsx)(o.a,{children:Object(ne.jsx)(l.a,{store:Q,children:Object(ne.jsx)(Pe,{})})})}),document.getElementById("root")),i()},24:function(e,t,a){e.exports={container:"WorkChat_container__2Nl_R",chat_container:"WorkChat_chat_container__2wUig",chat:"WorkChat_chat__2YAnM",chat_f:"WorkChat_chat_f__hZABw",message:"WorkChat_message__10FHf",sticker:"WorkChat_sticker__3MGhg",sticker_m:"WorkChat_sticker_m__1308Q",stickers:"WorkChat_stickers__1y-8s"}},36:function(e,t,a){e.exports={container:"Message_container__pbhLb",main:"Message_main__1jOAx",avatar:"Message_avatar__2qdJK",main_message:"Message_main_message__3lSKl",name:"Message_name__3K4E7",message:"Message_message__3GBYI",date:"Message_date__36Km6"}},83:function(e,t,a){e.exports={container:"Header_container__2S4Zu",login:"Header_login__Kk3Bx",login_btn:"Header_login_btn__1Jz_S"}},93:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.db65195d.chunk.js.map